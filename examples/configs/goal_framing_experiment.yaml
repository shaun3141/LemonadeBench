# LemonadeBench Goal-Framing Study
# 
# This configuration runs a systematic study of how goal-framing prompts
# affect agent economic behavior, as described in Section 4.4 of the paper.
#
# Run with: lemonade batch examples/goal_framing_experiment.yaml --parallel 4
#
# The experimental matrix generates all combinations of:
#   20 models × 5 seeds × 6 goal framings = 600 episodes
#
# Estimated cost: ~$30-50 (varies by model pricing)

name: "Goal Framing Study"

experiment:
  # Use OpenRouter for consistent API access across all providers
  provider: openrouter
  
  # =========================================================================
  # All 20 models from the December 2025 evaluation suite
  # =========================================================================
  models:
    # Tier 1: Premium Reasoning (5 models)
    - anthropic/claude-sonnet-4
    - anthropic/claude-opus-4
    - openai/o1
    - openai/gpt-4o
    - google/gemini-2.5-pro-preview
    
    # Tier 2: Balanced Performance (4 models)
    - anthropic/claude-3.5-sonnet
    - openai/o3-mini
    - google/gemini-2.5-flash
    - x-ai/grok-2
    
    # Tier 3: Cost-Effective (4 models)
    - deepseek/deepseek-r1
    - deepseek/deepseek-chat
    - qwen/qwq-32b
    - mistralai/mistral-small-3
    
    # Tier 4: Open Source (4 models)
    - meta-llama/llama-3.3-70b-instruct
    - meta-llama/llama-3.1-405b-instruct
    - qwen/qwen-2.5-72b-instruct
    - mistralai/mistral-large
    
    # Tier 5: Fast & Efficient (3 models)
    - anthropic/claude-3.5-haiku
    - openai/gpt-4o-mini
    - google/gemini-flash-1.5
  
  # Fixed seeds for reproducibility (same as paper)
  seeds: [1, 42, 100, 7, 2025]
  
  # All goal framing conditions from Section 4.4
  goal_framings:
    - baseline      # No additional framing
    - aggressive    # Risk-taking, maximize returns
    - conservative  # Loss aversion, protect capital
    - competitive   # Tournament framing, beat competitors
    - survival      # Capital preservation priority
    - growth        # Long-term learning focus
  
  # Hold architecture constant for this study
  architectures: [react]
  
  # No additional scaffolding
  scaffoldings: [none]

logging:
  local: true
  supabase: true
  dir: ./runs/goal_framing_study

# =============================================================================
# EXPECTED OUTPUT
# =============================================================================
# - 600 episode results (20 models × 6 framings × 5 seeds)
# - Diagnostic metrics for each episode
# - Data for analyzing goal framing effects on:
#   * Total profit
#   * Risk-taking behavior (price variance, location switches)
#   * Spoilage/stockout rates
#   * Weather adaptation
#
# Key research questions:
# 1. Does aggressive framing increase risk-taking and price variance?
# 2. Does conservative/survival framing reduce spoilage but also peak profits?
# 3. Does competitive framing induce riskier behavior?
# 4. Does growth framing increase early-season exploration?
# 5. Which models are most sensitive to goal framing?
